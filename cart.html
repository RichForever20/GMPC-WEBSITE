
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>GMPC - CART</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet">
    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">
    <link rel="stylesheet" href="css/aos.css">
    <link rel="stylesheet" href="css/ionicons.min.css">
    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/jquery.timepicker.css">
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/icomoon.css">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body class="goto-here">

    <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
      <div class="container">
        <a class="navbar-brand" href="index.html">
          <img src="images/GMPC-logo-removebg-preview.png" alt="" style="width: 60px;">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav">
          <span class="oi oi-menu"></span> Menu
        </button>

        <div class="collapse navbar-collapse" id="ftco-nav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
            <li class="nav-item dropdown active">
              <a class="nav-link dropdown-toggle" href="#" id="dropdown04" data-toggle="dropdown">Shop</a>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="shop.html">Shop</a>
                <a class="dropdown-item" href="cart.html">Cart</a>
                <a class="dropdown-item" href="checkout.html">Checkout</a>
              </div>
            </li>
            <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>
            <!-- <li class="nav-item"><a href="blog.html" class="nav-link">Blog</a></li> -->
            <li class="nav-item"><a href="contact.html" class="nav-link">Contact</a></li>
            <li class="nav-item cta cta-colored" >
  <a href="cart.html" class="nav-link linko" >
    <span class="icon-shopping_cart" ></span>
    <span id="cart-count">0</span>
  </a>
</li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- END nav -->

    <div class="hero-wrap hero-bread" style="background-image: url('images/bg_6.jpg');">
      <div class="container">
        <div class="row no-gutters slider-text align-items-center justify-content-center">
          <div class="col-md-9 ftco-animate text-center">
            <p class="breadcrumbs"><span class="mr-2"><a href="index.html">Home</a></span> <span>Cart</span></p>
            <h1 class="mb-0 bread">My Cart</h1>
          </div>
        </div>
      </div>
    </div>

    <section class="ftco-section ftco-cart">
      <div class="container">
        <div class="row">
          <div class="col-md-12 ftco-animate">
            <div class="cart-list">
              <table class="table">
                <thead class="thead-primary">
                  <tr class="text-center">
                    <th>&nbsp;</th>
                    <th>&nbsp;</th>
                    <th>Product</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Total</th>
                  </tr>
                </thead>
                <tbody id="cart-body">
                  <!-- Items injected by JS -->
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="row justify-content-center">
          <div class="col col-lg-5 col-md-6 mt-5 cart-wrap ftco-animate">
            <div class="cart-total mb-3">
              <h3>Cart Totals</h3>
             <p class="d-flex">
  <span>Subtotal</span>
  <span id="subtotal">₦0.00</span>
</p>
<p class="d-flex">
  <span>Delivery</span>
  <span>₦0.00</span>
</p>
<hr>
<p class="d-flex total-price">
  <span>Total</span>
  <span id="total">₦0.00</span>
</p>

            </div>

            <p class="text-center">
              <a href="checkout.html" class="btnn btn btn-primary py-3 px-4" style="background-color:#C75656; ">Proceed to Checkout</a>
            </p>
                     <style>
.btnn:hover {
  background-color: #fff !important;
  color: #C75656 !important;
  border-color: #C75656 !important;
}
</style>
          </div>
        </div>
      </div>
    </section>

    <!-- footer here (unchanged) -->
     <footer class="ftco-footer bg-light ftco-section">
      <div class="container">
      	<div class="row">
      		<div class="mouse">
						<a href="#" class="mouse-icon">
							<div class="mouse-wheel"><span class="ion-ios-arrow-up"></span></div>
						</a>
					</div>
      	</div>
        <div class="row mb-5">
          <div class="col-md">
            <div class="ftco-footer-widget mb-4">
              <!-- <h2 class="ftco-heading-2">Winkel</h2> -->
<img src="/images/GMPC-logo-removebg-preview.png" alt="" style="width: 90px;">
              <p>Rooted in the synergy between traditional medicinal knowledge and modern biotechnology</p>
              <ul class="ftco-footer-social list-unstyled float-md-left float-lft mt-5">
                <li class="ftco-animate"><a href="#"><span class="icon-twitter"></span></a></li>
                <li class="ftco-animate"><a href="#"><span class="icon-facebook"></span></a></li>
                <li class="ftco-animate"><a href="#"><span class="icon-instagram"></span></a></li>
              </ul>
            </div>
          </div>
          <div class="col-md">
            <div class="ftco-footer-widget mb-4 ml-md-5">
              <h2 class="ftco-heading-2">Menu</h2>
              <ul class="list-unstyled">
                <li><a href="#" class="py-2 d-block">Shop</a></li>
                <li><a href="#" class="py-2 d-block">About</a></li>
                <li><a href="#" class="py-2 d-block">Journal</a></li>
                <li><a href="#" class="py-2 d-block">Contact Us</a></li>
              </ul>
            </div>
          </div>
          <div class="col-md-4">
             <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2">Help</h2>
              <div class="d-flex">
	              <ul class="list-unstyled mr-l-5 pr-l-3 mr-4">
	                <li><a href="#" class="py-2 d-block">Shipping Information</a></li>
	                <li><a href="#" class="py-2 d-block">Returns &amp; Exchange</a></li>
	                <li><a href="#" class="py-2 d-block">Terms &amp; Conditions</a></li>
	                <li><a href="#" class="py-2 d-block">Privacy Policy</a></li>
	              </ul>
	              <ul class="list-unstyled">
	                <li><a href="#" class="py-2 d-block">FAQs</a></li>
	                <li><a href="#" class="py-2 d-block">Contact</a></li>
	              </ul>
	            </div>
            </div>
          </div>
          <div class="col-md">
            <div class="ftco-footer-widget mb-4">
            	<h2 class="ftco-heading-2">Have a Questions?</h2>
            	<div class="block-23 mb-3">
	              <ul>
	                <li><span class="icon icon-map-marker"></span><span class="text"><b>Head Office:</b>
GMPC Ltd,
32 B, Olaoluwa Street, Off Obokun Avenue, Ojodu, Ikeja 100213, Lagos, Nigeria.
</span></li><br>
	                <li><a href="#"><span class="icon icon-phone"></span><span class="text">+234 803 501 5103
</span></a></li>
	                <li><a href="#"><span class="icon icon-phone"></span><span class="text">+2347043022500
</span></a></li>
	                <li><a href="#"><span class="icon icon-envelope"></span><span class="text">info@yourdomain.com</span></a></li>
	              </ul>
	            </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 text-center">

            <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
						  Copyright Global Moringa Production Consultants Ltd (GMPC Ltd) &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | Designed by <a href="#" target="_blank">OMID DEV</a>
						  <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
						</p>
          </div>
        </div>
      </div>
    </footer>
<!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/bootstrap-datepicker.js"></script>
  <script src="js/scrollax.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="js/google-map.js"></script>
  <script src="js/main.js"></script>
    <!-- <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/main.js"></script> -->


     <script>
		$(document).ready(function(){

		var quantitiy=0;
		   $('.quantity-right-plus').click(function(e){
		        
		        // Stop acting like a button
		        e.preventDefault();
		        // Get the field name
		        var quantity = parseInt($('#quantity').val());
		        
		        // If is not undefined
		            
		            $('#quantity').val(quantity + 1);

		          
		            // Increment
		        
		    });

		     $('.quantity-left-minus').click(function(e){
		        // Stop acting like a button
		        e.preventDefault();
		        // Get the field name
		        var quantity = parseInt($('#quantity').val());
		        
		        // If is not undefined
		      
		            // Increment
		            if(quantity>0){
		            $('#quantity').val(quantity - 1);
		            }
		    });
		    
		});
	</script>
   <script>
(function(){
  // safe helpers
  function getCartFromStorage(){
    try { const c = JSON.parse(localStorage.getItem('cart')); return Array.isArray(c) ? c : []; }
    catch(e) { return []; }
  }
  function saveCartToStorage(c){ localStorage.setItem('cart', JSON.stringify(c)); }
  function parsePrice(v){ if (typeof v === 'number') return v; if (!v) return 0; return parseFloat(('' + v).replace(/[^0-9.-]+/g, '')) || 0; }
function formatMoney(n){ return '₦' + n.toFixed(2); }
  function escapeHtml(s){ return String(s).replace(/[&<>"'`=\/]/g, function(c){ return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;','/':'&#x2F;','`':'&#96;','=':'&#61;'})[c]; }); }

  // DOM elements
  const cartBody = document.getElementById('cart-body');
  const subtotalEl = document.getElementById('subtotal');
  const totalEl = document.getElementById('total');
  const cartCountEl = document.getElementById('cart-count');

  // load & normalize
  let cart = getCartFromStorage().filter(item => item && item.name && item.name !== "null");
  saveCartToStorage(cart);

  // render function
  function renderCart(){
    if (!cartBody) return;
    cartBody.innerHTML = '';
    let subtotal = 0;

    cart.forEach((item, index) => {
      const price = parsePrice(item.price);
      const qty = Math.max(1, parseInt(item.quantity) || 1);
      item.quantity = qty; // normalize and persist
      const total = price * qty;
      subtotal += total;
      const img = item.image ? item.image : 'images/default-product.png'; // fallback image

      cartBody.insertAdjacentHTML('beforeend', `
        <tr class="text-center">
          <td class="product-remove">
            <a href="#" class="remove-item" data-index="${index}"><span class="ion-ios-close"></span></a>
          </td>
          <td class="image-prod">
            <div class="img" style="background-image:url('${img}');"></div>
          </td>
          <td class="product-name"><h3>${escapeHtml(item.name)}</h3></td>
          <td class="price">${formatMoney(price)}</td>
          <td class="quantity">
            <div class="input-group mb-3">
              <input type="number" class="form-control input-number cart-qty" value="${qty}" min="1" data-index="${index}">
            </div>
          </td>
          <td class="total">${formatMoney(total)}</td>
        </tr>
      `);
    });

    if (subtotalEl) subtotalEl.textContent = formatMoney(subtotal);
    if (totalEl) totalEl.textContent = formatMoney(subtotal);
    saveCartToStorage(cart);
    updateCartCount();
  }

  function updateCartCount(){
    if (!cartCountEl) return;
    const count = cart.reduce((s, it) => s + (parseInt(it.quantity) || 0), 0);
    cartCountEl.textContent = count;
  }

  // event delegation (only if cartBody exists)
  if (cartBody) {
    // quantity changes
    cartBody.addEventListener('input', function(e){
      const t = e.target;
      if (t && t.classList.contains('cart-qty')) {
        const idx = parseInt(t.dataset.index, 10);
        if (isNaN(idx)) return;
        const newQty = Math.max(1, parseInt(t.value) || 1);
        cart[idx].quantity = newQty;
        saveCartToStorage(cart);
        renderCart();
      }
    });

    // remove item
    cartBody.addEventListener('click', function(e){
      const rem = e.target.closest('.remove-item');
      if (!rem) return;
      e.preventDefault();
      const idx = parseInt(rem.dataset.index, 10);
      if (isNaN(idx)) return;
      cart.splice(idx, 1);
      saveCartToStorage(cart);
      renderCart();
    });
  }

  // public helpers (useful for debugging/testing)
  window.GMPC_cart = {
    get: () => JSON.parse(localStorage.getItem('cart') || '[]'),
    add: (item) => {
      if (!item || !item.name) return;
      item.price = parsePrice(item.price);
      item.quantity = Math.max(1, parseInt(item.quantity) || 1);
      cart.push(item);
      saveCartToStorage(cart);
      renderCart();
    },
    clear: () => { cart = []; saveCartToStorage(cart); renderCart(); }
  };

  // initial render
  renderCart();

})();
</script>

  </body>
</html>
